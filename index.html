<!DOCTYPE html>
<html lang="en">
<head>
<title>Notes</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>
  function setCookie(cname, cvalue, exdays) {
  document.cookie = cname + "=" + cvalue;
}

function getCookie(cname) {
  let name = cname + "=";
  let ca = document.cookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

function checkCookie() {
  let user = getCookie("username");
  if (user != "") {
    alert("Welcome, " + user);
  } else {
    user = prompt("Please enter your name:", "");
    if (user != "" && user != null) {
      setCookie("username", user);
    }
  }
}
function Save() {
  const link = document.querySelector('a.dynamic');
  let name = document.getElementById( '#NameBox' ).value;
  let text = document.getElementById( '#TextBox' ).value;
  alert(text);
  link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
  link.setAttribute('download', `${name.toLowerCase()}.txt`);
}
</script>
<style>
* {
  box-sizing: border-box;
  font-family: Arial, Helvetica, sans-serif;
}
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

/* Style the top navigation bar */
.topnav {
  overflow: hidden;
  background-color: #307bf2;
}

.topnav a {
float: left;
display: block; color: #f2f2f2;
text-align: center; padding: 14px 16px;
text-decoration: none;
}
/* Change color on hover */
.topnav a:hover {
background-color: #ddd;
color: black;
}
/* Style the content */
.content {
  background-color: #f1f1f1;
  padding: 10px;}
/* Style the footer */
footer {
background-color: #ddd;
padding: 10px;
}
</style>
  </head> 
<body>
  <div class="topnav"> <a href="Games.html"><b>Games</b></a>
    <a href="https://scratch.mit.edu"><b>Scratch</b></a>
    <a href="https://scratch.mit.edu/users/AmirLabScratch/"><b>About Me</b></a>
    <button type="button" onclick="checkCookie()">Sign In/Sign Up</button>
  </div>
<div class="content">
  <p id='Head'>Please Sign In</p>
</div>
<input id='NameBox' value='Title'></input>
<textarea id="TextBox" name="freeform" rows="10" cols="50"></textarea><br>
<button type="button" onclick="Save()">Save</button><br>
<a class="dynamic">Download Multi-line Text File</a>
<div class="footer"> 
<ul>
<li><a href="Games.html"> Main Webpage </a> <br></li><br>
  </ul>
</div>
</body>
</html>
